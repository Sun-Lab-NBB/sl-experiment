from enum import IntEnum

from _typeshed import Incomplete
from PyQt6.QtGui import QCloseEvent
from PyQt6.QtWidgets import QMainWindow
from ataraxis_data_structures import SharedMemoryArray

class _DataArrayIndex(IntEnum):
    TERMINATION = 0
    VALVE_OPEN = 1
    VALVE_CLOSE = 2
    VALVE_REWARD = 3
    VALVE_REFERENCE = 4
    VALVE_CALIBRATE = 5
    BRAKE_LOCK = 6
    BRAKE_UNLOCK = 7
    REWARD_VOLUME = 8
    CALIBRATION_PULSE_DURATION = 9

class MaintenanceControlUI:
    _data_array: Incomplete
    _valve_tracker: Incomplete
    _ui_process: Incomplete
    _started: bool
    def __init__(self, valve_tracker: SharedMemoryArray) -> None: ...
    def __del__(self) -> None: ...
    def start(self) -> None: ...
    def shutdown(self) -> None: ...
    def _run_ui_process(self) -> None: ...
    @property
    def exit_signal(self) -> bool: ...
    @property
    def valve_open_signal(self) -> bool: ...
    @property
    def valve_close_signal(self) -> bool: ...
    @property
    def valve_reward_signal(self) -> bool: ...
    @property
    def valve_reference_signal(self) -> bool: ...
    @property
    def valve_calibrate_signal(self) -> bool: ...
    @property
    def brake_lock_signal(self) -> bool: ...
    @property
    def brake_unlock_signal(self) -> bool: ...
    @property
    def reward_volume(self) -> int: ...
    @property
    def calibration_pulse_duration(self) -> int: ...
    @property
    def valve_dispensed_volume(self) -> float: ...
    @property
    def valve_is_calibrating(self) -> bool: ...

class _MaintenanceUIWindow(QMainWindow):
    _data_array: SharedMemoryArray
    _valve_tracker: SharedMemoryArray
    _previous_dispensed_volume: float
    _reward_in_progress: bool
    _calibration_in_progress: bool
    _referencing_in_progress: bool
    def __init__(self, data_array: SharedMemoryArray, valve_tracker: SharedMemoryArray) -> None: ...
    valve_open_btn: Incomplete
    valve_close_btn: Incomplete
    volume_spinbox: Incomplete
    valve_reward_btn: Incomplete
    valve_status_label: Incomplete
    valve_reference_btn: Incomplete
    pulse_duration_spinbox: Incomplete
    calibrate_btn: Incomplete
    calibration_status_label: Incomplete
    brake_lock_btn: Incomplete
    brake_unlock_btn: Incomplete
    brake_status_label: Incomplete
    terminate_btn: Incomplete
    def _setup_ui(self) -> None: ...
    def _apply_qt6_styles(self) -> None: ...
    monitor_timer: Incomplete
    def _setup_monitoring(self) -> None: ...
    def _check_external_state(self) -> None: ...
    def closeEvent(self, event: QCloseEvent | None) -> None: ...
    def _update_reward_volume(self) -> None: ...
    def _update_pulse_duration(self) -> None: ...
    def _valve_open(self) -> None: ...
    def _valve_close(self) -> None: ...
    def _valve_reward(self) -> None: ...
    def _valve_reference(self) -> None: ...
    def _calibrate(self) -> None: ...
    def _brake_lock(self) -> None: ...
    def _brake_unlock(self) -> None: ...
    def _terminate_runtime(self) -> None: ...
